const vmt_Fac
   :Fac.ComputeFac

func Main()
   t.0 = HeapAllocZ(4)
   [t.0] = :vmt_Fac
   t.1 = 10
   if t.0 goto :null0
      Error("null pointer")
   null0:
   t.2 = [t.0]
   t.2 = [t.2+0]
   t.3 = call t.2(t.0 t.1)
   PrintIntS(t.3)
   ret

func Fac.ComputeFac(this num)
   t.0 = LtS(num 1)
   if0 t.0 goto :if0_else
      num_aux = 1
      goto :if0_end
   if0_else:
      t.1 = Sub(num 1)
      t.2 = t.1
      t.3 = [this]
      t.3 = [t.3+0]
      t.4 = call t.3(this t.2)
      t.5 = MulS(num t.4)
      num_aux = t.5
   if0_end:
   t.6 = num_aux
   ret t.6

func AllocArray(size)
   bytes = MulS(size 4)
   bytes = Add(bytes 4)
   v = HeapAllocZ(bytes)
   [v] = size
   ret v

